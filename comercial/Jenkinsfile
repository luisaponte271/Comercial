#!groovy? 
def JENKINS_WORKSPACE = 'C://Users/usuario/batch';
//def NAME_PROJECT_JENKINS = 'comercial-app';
//def NAME_JOB_JENKINS = 'comercial-backend';
def APP_NAME = 'comercial';
def ARCHIVO_BATCH = 'compiler-maven.bat'; 

def cmd_exec(command) {
    return bat(returnStdout: true, script: "${command}").trim()
}

node {
  
	   stage('Descargar Fuentes') { 
		  checkout scm
	   }     
	  
	   stage('Compilando con Maven')
	   {
	   
	   dir(APP_NAME) {
			bat "mvn clean package -DskipTests"
		}
	     
		  
		println("compilando2")
	   }

	   stage('Deployment en JBOSS') {	
	   
	   println("desplegando")
						
	 	
	}
}
